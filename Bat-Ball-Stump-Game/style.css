/* ------------- Base / Layout ------------- */
:root{
  --bg1:#0f172a;
  --bg2:#0b1223;
  --card:#101b38cc;
  --glass:#ffffff12;
  --accent:#22d3ee;
  --accent-2:#a78bfa;
  --good:#22c55e;
  --bad:#ef4444;
  --text:#e5e7eb;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  color:var(--text);
  background: radial-gradient(80vw 80vh at 20% 0%, #1e293b 0%, var(--bg2) 60%) no-repeat;
  overflow-x:hidden;
}

.bg{
  position:fixed; inset:0; z-index:-1;
  background:
    radial-gradient(40vw 40vw at 90% 10%, #1f2937 0 25%, transparent 26%),
    radial-gradient(45vw 45vw at 10% 90%, #0a1228 0 25%, transparent 26%),
    linear-gradient(120deg, var(--bg1), var(--bg2));
  animation: floatbg 18s ease-in-out infinite alternate;
  opacity:.9;
}
@keyframes floatbg{
  0%{ filter:hue-rotate(0deg) saturate(1); transform:translateY(0); }
  100%{ filter:hue-rotate(12deg) saturate(1.1); transform:translateY(-10px); }
}

/* ------------- Header ------------- */
.app-header{
  display:flex; align-items:center; justify-content:space-between;
  padding: clamp(12px, 3vw, 20px);
}
.title{
  margin:0;
  font-weight:700;
  letter-spacing:.5px;
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  filter: drop-shadow(0 2px 8px #0000008a);
}
.header-actions{ display:flex; gap:10px; }

/* ------------- Buttons ------------- */
.btn{
  border:none; cursor:pointer;
  padding:.7rem 1rem; border-radius:999px;
  background:var(--glass); color:var(--text);
  backdrop-filter: blur(6px);
  transition: transform .2s ease, background .2s ease;
  box-shadow: 0 6px 20px #0000003b inset, 0 2px 12px #00000033;
}
.btn:hover{ transform: translateY(-1px) scale(1.02); }
.btn:active{ transform: translateY(0) scale(.98); }
.btn.primary{ background:linear-gradient(135deg, var(--accent), var(--accent-2)); color:#071018; font-weight:700; }
.btn.danger{ background:linear-gradient(135deg, #bef264, #65a30d); color:#0b1303; font-weight:700; }
.btn.ghost{ background:transparent; outline:1px solid #ffffff2a; }

/* ------------- Rules ------------- */
.rules{
  width:min(960px, 92vw);
  height:min(900px, 45vh);
  margin:0 auto;
  background:linear-gradient(180deg, #0b1223cc, #0b1223b3);
  border:1px solid #ffffff14;
  border-radius:24px;
  padding:18px 18px 10px;
  box-shadow: 0 10px 40px #00000066;
  transform-origin: top center;
  transition: max-height .5s ease, opacity .4s ease, transform .4s ease;
  overflow:hidden;
  max-height: 0;
  opacity:0;
  transform: translateY(-6px);
}
.rules.show{
  max-height: 480px;
  opacity:1;
  transform: translateY(0);
}
.rules-title{
  margin:0 0 6px; font-size:clamp(18px, 2.5vw, 22px); font-weight:800;
}
.rules-rows{
  display:grid;
  grid-template-columns: 1fr;
  gap:10px;
}
.rule{
  display:flex; align-items:center; justify-content:center; gap:10px;
  background: #0e1733bb;
  border:1px dashed #7dd3fc44;
  border-radius:16px; padding:10px 12px;
  animation: fadeIn .6s ease both;
}
.rule b{ color:var(--accent); }
.mini-icon{ width:26px; height:26px; object-fit:contain; }
.hint{ opacity:.8; text-align:center; margin:8px 0 0; font-size:.9rem; }

@keyframes fadeIn{
  from{ opacity:0; transform: translateY(4px); }
  to{ opacity:1; transform: translateY(0); }
}

/* ------------- Scoreboard ------------- */
.scoreboard{
  width:min(960px, 92vw);
  margin:10px auto 6px;
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap:10px;
}
.score-card{
  background: var(--card);
  border:1px solid #ffffff1a;
  border-radius:18px;
  padding:10px 12px;
  text-align:center;
  box-shadow: 0 10px 24px #0000004a, inset 0 0 40px #ffffff08;
}
.score-card .label{ display:block; opacity:.8; font-size:.85rem; }
.score-card .value{
  display:inline-block;
  font-size: clamp(22px, 4.5vw, 30px);
  font-weight:900;
  letter-spacing:.5px;
  min-width: 2ch;
  transition: transform .25s ease;
}
.value.bump{ transform: translateY(-3px) scale(1.12); }

/* ------------- Arena / Choices ------------- */
.arena{
  width:min(980px, 96vw);
  margin:18px auto;
  display:grid;
  gap:16px;
  grid-template-columns: repeat(3, minmax(0, 1fr));
}
.choice{
  position:relative; isolation:isolate;
  background: linear-gradient(160deg, #1d253b, #0a132c);
  border: 1px solid #ffffff1f;
  border-radius: 24px;
  padding: 18px 16px 12px;
  min-height: 170px;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  cursor:pointer;
  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
  box-shadow: 0 18px 50px #00000066;
  overflow:hidden;
}
.choice:hover{
  transform: translateY(-4px);
  box-shadow: 0 26px 60px #00000088;
  border-color:#7dd3fc66;
}
.choice:active{ transform: translateY(-1px) scale(.98); }
.choice img{
  width:min(100px, 38vw);
  height:auto; object-fit:contain;
  filter: drop-shadow(0 10px 18px #000000a6);
  animation: bob 3s ease-in-out infinite;
}
@keyframes bob{
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}
.choice .badge{
  position:absolute; top:10px; left:12px;
  padding:.15rem .5rem;
  font-weight:700; font-size:.85rem;
  background: linear-gradient(135deg, #7dd3fc, #a78bfa);
  color:#0b1022;
  border-radius:999px;
  box-shadow: 0 6px 20px #00000055;
}

/* ripple effect */
.choice::after{
  content:"";
  position:absolute; inset:auto; width:0; height:0; border-radius:50%;
  opacity:.15; background:#7dd3fc;
  transform: translate(-50%, -50%);
  pointer-events:none;
}
.choice.ripple::after{
  width:600px; height:600px; left:var(--x); top:var(--y);
  animation: ripple .6s ease-out forwards;
}
@keyframes ripple{
  from{ transform: translate(-50%,-50%) scale(.1); opacity:.2; }
  to{ transform: translate(-50%,-50%) scale(1); opacity:0; }
}

/* ------------- Result strip ------------- */
.result-strip{
  width:min(980px, 96vw);
  margin: 6px auto 14px;
  background: linear-gradient(180deg, #0b1223cc, #0b1223b3);
  border:1px solid #ffffff14;
  border-radius: 22px;
  padding: 12px;
  box-shadow: 0 10px 40px #00000066;
}
.picks{
  display:flex; align-items:center; justify-content:center; gap:14px; flex-wrap:wrap;
}
.pick{ display:grid; place-items:center; gap:6px; }
.who{ opacity:.85; font-size:.9rem; }
.pick-icon{
  width:70px; height:70px; border-radius:16px;
  background:#0e1733bb; border:1px solid #ffffff1a;
  display:grid; place-items:center; overflow:hidden;
}
.pick-icon img{ width:60px; height:auto; }

.vs{
  padding:.2rem .6rem; border-radius:999px; font-weight:900;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  color:#071018; letter-spacing:.5px;
}

.result-text{
  text-align:center; margin-top:8px; font-size:clamp(18px, 3.5vw, 22px); font-weight:800;
}
.result-text.win{ color:var(--good); animation: pop .5s ease; }
.result-text.lose{ color:var(--bad); animation: pop .5s ease; }
.result-text.tie{ opacity:.9; animation: pop .5s ease; }

@keyframes pop{
  from{ transform: scale(.9); opacity:.7; }
  to{ transform: scale(1); opacity:1; }
}

/* ------------- Footer ------------- */
.footer{ display:grid; place-items:center; margin: 10px 0 26px; }

/* ------------- Responsive ------------- */
@media (max-width: 860px){
  .arena{ grid-template-columns: 1fr; }
  .choice{ min-height: 150px; }
  .scoreboard{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 420px){
  .pick-icon{ width:60px; height:60px; }
  .pick-icon img{ width:50px; }
}

/* reset icon */
.icon-reset{ width:18px; height:18px; object-fit:contain; vertical-align:-3px; margin-right:6px; }
