<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cricket Game</title>
    <style>
        body {
            text-align: center;
        }
    </style>
</head>

<body>
    <h1>Bat Ball Stump Game </h1>
    <button onclick="
    computerChoice = generateComputerChoice();

     resultMsg = getResult('Bat',computerChoice);
     showResult('Bat',computerChoice,resultMsg);
    ">Bat</button>


    <button onclick="
    computerChoice = generateComputerChoice();
    resultMsg = getResult('Ball',computerChoice);
    showResult('Ball',computerChoice,resultMsg);

    ">Ball</button>


    <button onclick="
    computerChoice = generateComputerChoice();
    resultMsg = getResult('Stump',computerChoice);
    showResult('Stump',computerChoice,resultMsg);

    ">Stump</button>

    <script>

        let score = {
            win : 0,
            lost: 0,
            tie : 0,
        };

        function generateComputerChoice() {
            let randNo = Math.floor(Math.random() * 3);
            let computerChoice;
            if (randNo == 0) {
                computerChoice = 'Bat';
            } else if (randNo == 1) {
                computerChoice = 'Ball';
            } else {
                computerChoice = 'Stump';
            }
            return computerChoice;
        }

        function getResult(userMove, computerMove) {                // M1
            let resultMsg;
            if (computerMove === userMove) {
                resultMsg = `It's a tie`;
                score.tie++;
            } else if ((computerMove === 'Bat' && userMove === 'Stump') || (computerMove === 'Ball' && userMove === 'Bat') || (computerMove === 'Stump' && userMove === 'Ball')) {
                resultMsg = `you Won!`;
                score.win++;
            } else if ((computerMove === 'Bat' && userMove === 'Ball') || (computerMove === 'Stump' && userMove === 'Bat') || (computerMove === 'Ball' && userMove === 'Stump')) {
                resultMsg = `You Lost`;
                score.lost++;
            }
            return resultMsg;
        }

        function showResult(userMove,computerMove,result){
            alert(`You have chosen ${userMove}. \nComputer choice is ${computerMove} \n${result}

            Your Score:
            won: ${score.win}
            lost: ${score.lost}
            tie: ${score.tie}`
            );
            // console.log(score);
        }
                                    // M2 using Nested if

        // function getResult(userMove, computerMove) {
        //     let resultMsg;
        //     if (userMove === 'Bat') {
        //         if(computerMove === 'Ball'){
        //             return 'You Won!'
        //         } else if(computerMove === 'Bat'){
        //             return `It's a tie`
        //         } else if(computerMove === 'Stump'){
        //             return `You Lost`
        //         }
        //     }
        //     else if (userMove === 'Ball') {
        //         if(computerMove === 'Ball'){
        //             return `It's a tie`
        //         } else if(computerMove === 'Bat'){
        //             return `You Lost`
        //         } else if(computerMove === 'Stump'){
        //             return 'You Won!'
        //         }
        //     }
        //     else if (userMove === 'Stump') {
        //         if(computerMove === 'Ball'){
        //             return `You Lost`
        //         } else if(computerMove === 'Bat'){
        //             return `You Won!`
        //         } else if(computerMove === 'Stump'){
        //             return `It's a tie`
        //         }
        //     }
        // }
        
    </script>
</body>

</html>